/*! SAISPA v0.8.5 */!function(n){var i={};function r(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=n,r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="dist/",r(r.s=5)}([function(t,e,n){"use strict";e.dropBlankKeys=function(o){return Object.keys(o).filter(function(t){return!!t}).reduce(function(t,e){return Object.assign(t,(n={},r=o[i=e],i in n?Object.defineProperty(n,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[i]=r,n));var n,i,r},{})},e.getBrand=function(){try{var t=window.top.location.host;return t.match("americanas")?"acom":t.match("submarino")?"suba":"shop"}catch(t){return"acom"}},e.hasStorage=function(){try{var t="stored";return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch(t){return!1}},e.isServiceAvailable=function(n,i){return Object.keys(n).reduce(function(t,e){return t||n[e].includes(i)},!1)},e.Log=function(){for(var t,e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];"function"==typeof console.log&&"undefined"!=typeof window&&-1!==window.location.href.indexOf("log=true")&&(t=console).log.apply(t,["[Saispa]: "].concat(n))},e.optionalStart=function(e){return function(n,i,r){var t=(i.settings[e].optionalCases||[]).map(function(t){var e=n===t.condition;return e&&r(t.key,i),e}).reduce(function(t,e){return t||e},!1);return t||!!(!t&&i.settings[e].hasDefault||"default"===n&&i.settings[e].hasDefault)&&(r(i.settings[e].key,i),!0)}},e.stringify=function(e){return Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")}},function(t,e,n){"use strict";var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=n(0).hasStorage,o=n(9),a=r()?localStorage:o;e.setState=function(t){var e=JSON.parse(a.getItem("saispa")||"{}");a.setItem("saispa",JSON.stringify(i({},e,t)))},e.getState=function(){return JSON.parse(a.getItem("saispa"))}},function(t,h,b){"use strict";(function(t){var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},e=b(6),i=e.handlePageView,r=e.handlePurchase,o=e.handleViewContent,a=e.handleAddToCart,c=b(19),u=b(0),s=u.getBrand,d=u.Log,p=b(20).trackQueue,f=b(1),l={};f.setState({condition:"default"});var v=function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1]?n({},t,{brand:s(),user:f.getState().user,device:f.getState().device}):t;return Object.assign(l,e),"undefined"!=typeof saispa&&void 0!==saispa.queue&&0<saispa.queue.length&&p(saispa.queue),l},m=function(t){f.setState({condition:t})},g=function(t){var e={email:t.email,visitorId:t.visitorId,id:t.id};f.setState({user:e,device:t.device||"m"})},y=function(t,e){if(!c(l)(e).reduce(function(t,e){var n=e.started;return t||n},!1))return t;switch(t){case"pageView":i(l)(e);break;case"purchase":r(l)(e);break;case"viewContent":o(l)(e);break;case"addToCart":a(l)(e);break;default:throw d("Event ["+t+"] is not defined."),new Error("Event ["+t+"] is not defined.")}return t};t.saispa=t.saispa||{},"function"!=typeof t.saispa.init&&Object.assign(t.saispa,{track:y,init:v,identify:g,setCondition:m}),h.track=y,h.init=v,h.identify=g,h.setCondition=m}).call(this,b(3))},function(yb,zb){var Ab;Ab=function(){return this}();try{Ab=Ab||Function("return this")()||eval("this")}catch(t){"object"==typeof window&&(Ab=window)}yb.exports=Ab},function(t,e,n){"use strict";var i=n(8),r=n(11),o=n(12),a=n(14),c=n(17);e.getServices=function(){return[i,r,o,a,c]}},function(t,e,n){t.exports=n(2)},function(t,e,n){"use strict";var i=n(7).dispatchEvent,r=n(0).Log;e.handlePageView=function(n){return function(t){if(void 0===n||void 0===t.detail)throw new Error("missing parameters.");var e=t.detail.page.type;r("pageView",t),i({eventType:"pageView",pageType:e,payload:t},n)}},e.handlePurchase=function(n){return function(t){if(void 0===n||void 0===t.detail)throw new Error("missing parameters.");var e=t.detail.page.type;r("purchase",t),i({eventType:"purchase",pageType:e,payload:t},n)}},e.handleAddToCart=function(n){return function(t){if(void 0===n||void 0===t.detail)throw new Error("missing parameters.");var e=t.detail.page.type;r("addToCart",t),i({eventType:"addToCart",pageType:e,payload:t},n)}},e.handleViewContent=function(n){return function(t){if(void 0===n||void 0===t.detail)throw new Error("missing parameters.");var e=t.detail.page.type;r("viewContent",t),i({eventType:"viewContent",pageType:e,payload:t},n)}}},function(t,e,n){"use strict";var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},a=n(4).getServices;e.dispatchEvent=function(t,e){var n=t.eventType,i=t.pageType,r=t.payload;return e[i]&&n in e[i]?a().map(function(t){return e[i][n].includes(t.name)&&t.initialized?(t[n](o({},r,{brand:e.brand})),{name:t.name,dispatched:!0}):{name:t.name,dispatched:!1}}):[]}},function(t,e,n){"use strict";var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},d=n(1),i=n(0),p=i.Log,r=i.optionalStart,o=n(10),a=o.viewContent,c=o.purchase,u=o.addToCart,f=r("facebook");t.exports={name:"facebook",initialized:!1,init:function(t){var e,n,i,r,o;e=window,n=document,e.fbq||(i=e.fbq=function(){i.callMethod?i.callMethod.apply(i,arguments):i.queue.push(arguments)},e._fbq||(e._fbq=i),(i.push=i).loaded=!0,i.version="2.0",i.queue=[],(r=n.createElement("script")).async=!0,r.src="https://connect.facebook.net/en_US/fbevents.js",(o=n.getElementsByTagName("script")[0]).parentNode.insertBefore(r,o));var a=t.user?{em:t.user.email}:{},c=(d.getState()||{}).condition,u=f(void 0===c?"default":c,s({},t,{advancedMatch:a}),function(t,e){fbq("init",t,e.advancedMatch)});return p("Facebook init",u),u},pageView:function(){fbq("track","PageView")},viewContent:function(t){fbq("track","ViewContent",a(t))},purchase:function(t){fbq("track","Purchase",c(t))},addToCart:function(t){fbq("track","AddToCart",u(t))}}},function(t,e,n){"use strict";var i={};e.getItem=function(t){return i[t]||""},e.setItem=function(t,e){var n={};n[t]=e,Object.assign(i,n)}},function(t,e,n){"use strict";e.viewContent=function(t){return{content_ids:t.product.id,content_type:t.detail.content.type,currency:t.currency,content_name:t.product.name,content_line:t.product.line,content_category:t.product.category,content_dmp:t.detail.cookies.dmp,value:parseFloat(t.product.value),content_avaliable:1}},e.purchase=function(t){return{contents:t.products.map(function(t){return{id:t.id,item_price:parseFloat(t.value),quantity:parseInt(t.quantity)}}),content_type:t.detail.content.type,currency:t.currency,value:t.products.reduce(function(t,e){return t+parseFloat(e.value)*parseInt(e.quantity)},0).toFixed(2),content_ids:JSON.stringify(t.products.map(function(t){return t.id})),content_name:JSON.stringify(t.products.map(function(t){return t.name})),content_price:JSON.stringify(t.products.map(function(t){return t.value})),content_sku:JSON.stringify(t.products.map(function(t){return t.sku})),content_line:JSON.stringify(t.products.map(function(t){return t.line})),content_dmp:t.detail.cookies.dmp,content_department:JSON.stringify(t.products.map(function(t){return t.department})),order_id:t.order,conv_device:t.appId}},e.addToCart=function(t){return{currency:t.currency,value:t.products.reduce(function(t,e){return t+parseFloat(e.value)*parseInt(e.quantity)},0).toFixed(2),contents:t.products.map(function(t){return{id:t.id,item_price:parseFloat(t.value),quantity:parseInt(t.quantity)}}),content_type:t.detail.content.type,content_ids:JSON.stringify(t.products.map(function(t){return t.id})),content_name:JSON.stringify(t.products.map(function(t){return t.name})),content_price:JSON.stringify(t.products.map(function(t){return t.value})),content_sku:JSON.stringify(t.products.map(function(t){return t.sku})),content_line:JSON.stringify(t.products.map(function(t){return t.line})),content_dmp:t.detail.cookies.dmp,content_department:JSON.stringify(t.products.map(function(t){return t.department}))}}},function(t,e,n){"use strict";t.exports={name:"googleanalytics",initialized:!1,init:function(){return!1},pageView:function(){}}},function(t,e,n){"use strict";var p=n(1),f=n(0).Log,l=n(13).purchase;t.exports={name:"meliuz",initialized:!1,init:function(t){var n,e,i,r=(p.getState()||{}).condition,o=(n=void 0===r?"default":r,(i=((e=t).settings.meliuz.optionalCases||[]).map(function(t){var e=n===t.condition;return e&&p.setState(t),e}).reduce(function(t,e){return t||e},!1))||!!(!i&&e.settings.meliuz.hasDefault||"default"===n&&e.settings.meliuz.hasDefault)&&(p.setState(e.settings.meliuz),!0));return f("Meliuz init",o),o},pageView:function(){},viewContent:function(){},purchase:function(t){var e=l(t),n=e.currency,i=e.value,r=e.order,o=p.getState(),a=o.accessCode,c=void 0===a?"":a,u=o.authCode,s=void 0===u?"":u,d=(i*p.commissionRate).toFixed(2);fetch("https://www.meliuz.com.br/pixel/pa/"+c+".png?auth="+s+"&iso_currency="+n+"&commission="+d+"&value="+i+"&order="+r).then(f)},addToCart:function(){}}},function(t,e,n){"use strict";e.purchase=function(t){return{currency:t.currency,value:t.products.reduce(function(t,e){return t+e.value*e.quantity},0),order:t.order}}},function(i,t,u){"use strict";(function(r){var e=u(15).purchase,n=u(16).md5,o=u(1),t=u(0),a=t.Log,c=(0,t.optionalStart)("criteo");i.exports={name:"criteo",initialized:!1,init:function(t){r.criteo_q=r.criteo_q||[];var e=document.createElement("script");e.setAttribute("type","text/javascript"),e.setAttribute("src","//dynamic.criteo.com/js/ld/ld.js?a="+criteo_q.key),e.setAttribute("async",!0),document.head.appendChild(e);var n=(o.getState()||{}).condition,i=c(void 0===n?"default":n,t,function(t){criteo_q.key=t});return a("Criteo init",i),i},purchase:function(t){criteo_q.push({event:"setAccount",account:criteo_q.key},{event:"setRetailerVisitorId",id:o.getState().user.visitorId},{event:"setHashedEmail",email:n(o.getState().user.email)},{event:"setCustomerId",email:o.getState().user.id},{event:"setSiteType",type:o.getState().device},{event:"trackTransaction",deduplication:1,id:t.order,new_customer:"0",item:e(t)}),a(criteo_q)},home:function(){criteo_q.push({event:"setAccount",account:criteo_q.key},{event:"setRetailerVisitorId",id:o.getState().user.visitorId},{event:"setHashedEmail",email:n(o.getState().user.email)},{event:"setCustomerId",email:o.getState().user.id},{event:"setSiteType",type:o.getState().device},{event:"viewHome"}),a(criteo_q)},viewContent:function(t){criteo_q.push({event:"setAccount",account:criteo_q.key},{event:"setRetailerVisitorId",id:o.getState().user.visitorId},{event:"setHashedEmail",email:n(o.getState().user.email)},{event:"setCustomerId",email:o.getState().user.id},{event:"setSiteType",type:o.getState().device},{event:"viewItem",item:t.product.id,isSponsored:-1<window.top.location.href.indexOf("pfm_type=vit_recommendation")?1:0}),a(criteo_q)}}}).call(this,u(3))},function(t,e,n){"use strict";e.purchase=function(t){return t.products.map(function(t){return{id:t.id.toString(),price:t.value,quantity:t.quantity}})}},function(t,e,n){"use strict";e.md5=function(t){function u(t,e){return t<<e|t>>>32-e}function s(t,e){var n,i,r,o,a;return r=2147483648&t,o=2147483648&e,a=(1073741823&t)+(1073741823&e),(n=1073741824&t)&(i=1073741824&e)?2147483648^a^r^o:n|i?1073741824&a?3221225472^a^r^o:1073741824^a^r^o:a^r^o}function e(t,e,n,i,r,o,a){var c;return s(u(t=s(t,s(s((c=e)&n|~c&i,r),a)),o),e)}function n(t,e,n,i,r,o,a){var c;return s(u(t=s(t,s(s(e&(c=i)|n&~c,r),a)),o),e)}function i(t,e,n,i,r,o,a){return s(u(t=s(t,s(s(e^n^i,r),a)),o),e)}function r(t,e,n,i,r,o,a){return s(u(t=s(t,s(s(n^(e|~i),r),a)),o),e)}function o(t){var e="",n="",i=void 0;for(i=0;i<=3;i++)e+=(n="0"+(t>>>8*i&255).toString(16)).substr(n.length-2,2);return e}var a=Array(),c=void 0,d=void 0,p=void 0,f=void 0,l=void 0,v=void 0,m=void 0,g=void 0,y=void 0;for(a=function(t){for(var e=void 0,n=t.length,i=n+8,r=16*((i-i%64)/64+1),o=Array(r-1),a=0,c=0;c<n;)a=c%4*8,o[e=(c-c%4)/4]=o[e]|t.charCodeAt(c)<<a,c++;return a=c%4*8,o[e=(c-c%4)/4]=o[e]|128<<a,o[r-2]=n<<3,o[r-1]=n>>>29,o}(t=function(t){var e=new RegExp(/\r\n/,"g");t=t.replace(e,"\n");for(var n="",i=0;i<t.length;i++){var r=t.charCodeAt(i);r<128?n+=String.fromCharCode(r):(127<r&&r<2048?n+=String.fromCharCode(r>>6|192):(n+=String.fromCharCode(r>>12|224),n+=String.fromCharCode(r>>6&63|128)),n+=String.fromCharCode(63&r|128))}return n}(t)),v=1732584193,m=4023233417,g=2562383102,y=271733878,c=0;c<a.length;c+=16)m=r(m=r(m=r(m=r(m=i(m=i(m=i(m=i(m=n(m=n(m=n(m=n(m=e(m=e(m=e(m=e(p=m,g=e(f=g,y=e(l=y,v=e(d=v,m,g,y,a[c+0],7,3614090360),m,g,a[c+1],12,3905402710),v,m,a[c+2],17,606105819),y,v,a[c+3],22,3250441966),g=e(g,y=e(y,v=e(v,m,g,y,a[c+4],7,4118548399),m,g,a[c+5],12,1200080426),v,m,a[c+6],17,2821735955),y,v,a[c+7],22,4249261313),g=e(g,y=e(y,v=e(v,m,g,y,a[c+8],7,1770035416),m,g,a[c+9],12,2336552879),v,m,a[c+10],17,4294925233),y,v,a[c+11],22,2304563134),g=e(g,y=e(y,v=e(v,m,g,y,a[c+12],7,1804603682),m,g,a[c+13],12,4254626195),v,m,a[c+14],17,2792965006),y,v,a[c+15],22,1236535329),g=n(g,y=n(y,v=n(v,m,g,y,a[c+1],5,4129170786),m,g,a[c+6],9,3225465664),v,m,a[c+11],14,643717713),y,v,a[c+0],20,3921069994),g=n(g,y=n(y,v=n(v,m,g,y,a[c+5],5,3593408605),m,g,a[c+10],9,38016083),v,m,a[c+15],14,3634488961),y,v,a[c+4],20,3889429448),g=n(g,y=n(y,v=n(v,m,g,y,a[c+9],5,568446438),m,g,a[c+14],9,3275163606),v,m,a[c+3],14,4107603335),y,v,a[c+8],20,1163531501),g=n(g,y=n(y,v=n(v,m,g,y,a[c+13],5,2850285829),m,g,a[c+2],9,4243563512),v,m,a[c+7],14,1735328473),y,v,a[c+12],20,2368359562),g=i(g,y=i(y,v=i(v,m,g,y,a[c+5],4,4294588738),m,g,a[c+8],11,2272392833),v,m,a[c+11],16,1839030562),y,v,a[c+14],23,4259657740),g=i(g,y=i(y,v=i(v,m,g,y,a[c+1],4,2763975236),m,g,a[c+4],11,1272893353),v,m,a[c+7],16,4139469664),y,v,a[c+10],23,3200236656),g=i(g,y=i(y,v=i(v,m,g,y,a[c+13],4,681279174),m,g,a[c+0],11,3936430074),v,m,a[c+3],16,3572445317),y,v,a[c+6],23,76029189),g=i(g,y=i(y,v=i(v,m,g,y,a[c+9],4,3654602809),m,g,a[c+12],11,3873151461),v,m,a[c+15],16,530742520),y,v,a[c+2],23,3299628645),g=r(g,y=r(y,v=r(v,m,g,y,a[c+0],6,4096336452),m,g,a[c+7],10,1126891415),v,m,a[c+14],15,2878612391),y,v,a[c+5],21,4237533241),g=r(g,y=r(y,v=r(v,m,g,y,a[c+12],6,1700485571),m,g,a[c+3],10,2399980690),v,m,a[c+10],15,4293915773),y,v,a[c+1],21,2240044497),g=r(g,y=r(y,v=r(v,m,g,y,a[c+8],6,1873313359),m,g,a[c+15],10,4264355552),v,m,a[c+6],15,2734768916),y,v,a[c+13],21,1309151649),g=r(g,y=r(y,v=r(v,m,g,y,a[c+4],6,4149444226),m,g,a[c+11],10,3174756917),v,m,a[c+2],15,718787259),y,v,a[c+9],21,3951481745),v=s(v,d),m=s(m,p),g=s(g,f),y=s(y,l);return(o(v)+o(m)+o(g)+o(y)).toLowerCase()}},function(t,e,n){"use strict";var i=n(1),v=n(18).fmtPayload,r=n(0),m=r.Log,o=r.optionalStart,g=r.stringify;t.exports={name:"saika",initialized:!1,init:function(t){var e=(i.getState()||{}).condition,n=o(void 0===e?"default":e,t);return m("Saika init",n),n},pageView:function(t){var e=t.detail,n=t.brand,i=void 0===n?"acom":n;m(e);var r=e.device,o=void 0===r?{}:r,a=e.page,c=void 0===a?{}:a,u=e.user,s=void 0===u?{}:u,d=c.cookies,p=void 0===d?{}:d,f="https://saika-v3.b2w.io/event/saispa/pageview?"+g({c_b2wPid:p["B2W-PID"],c_b2wSid:c.b2wsid,c_b2wUid:c.b2wuid,c_customerId:p["customer.id"]||s["customer.id"],c_b2wOpn:c.opn,c_b2wDeviceType:o.type,c_b2wChannel:c.channel,c_b2wEPar:c.epar}),l=JSON.stringify({id:(Math.floor(1e4*Math.random()+1)+Math.floor(100*Math.random()+1)+(new Date).getTime()).toString(),brand:i,data:v(e)});fetch(f,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:l}).catch(function(t){return m("Saika Error",t)})}}},function(t,e,n){"use strict";var i=n(0).dropBlankKeys;e.fmtPayload=function(t){return"navigation"in t&&"location"in t.navigation&&"query"in t.navigation.location&&(t.navigation.location.query=i(t.navigation.location.query)),t}},function(t,e,n){"use strict";var i=n(4).getServices,r=n(0).isServiceAvailable;t.exports=function(n){return function(t){var e=t.detail.page.type;return n[e]?i().map(function(t){return r(n[e],t.name)&&!t.initialized&&"function"==typeof t.init&&(t.initialized=t.init(n)),{name:t.name,started:t.initialized}}):[]}}},function(t,e,n){"use strict";var i=n(2);e.trackQueue=function(t){return t.map(function(t){return i.track(t.name,t.payload)})}}]);